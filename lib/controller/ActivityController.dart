import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:manhal/model/ActivityModel.dart';

class ActivityController {
  final FirebaseFirestore _firestore = FirebaseFirestore.instance;

  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firestore Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±Ù
  Future<ActivityModel?> fetchActivity(String letter) async {
  print("ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù†Ø´Ø§Ø· ÙÙŠ Firestore Ù„Ù„Ø­Ø±Ù: $letter");
  try {
    DocumentSnapshot doc = await _firestore
        .collection('activity')
        .doc('letters')
        .collection('content')
        .doc(letter)
        .get();

    if (doc.exists) {
      print("âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firestore: ${doc.data()}");
      return ActivityModel.fromFirestore(doc.data() as Map<String, dynamic>);
    } else {
      print("âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Ø´Ø§Ø· Ù„Ù‡Ø°Ø§ Ø§Ù„Ø­Ø±Ù ÙÙŠ Firestore");
      return null;
    }
  } catch (e) {
    print("âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·: $e");
    return null;
  }
}
}